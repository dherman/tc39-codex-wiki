<!DOCTYPE html>
<html lang="en">
  <head>
    <title>ECMAScript Wiki - Iterators</title>
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Gentium+Basic:400italic,700italic|Buenard:400,700&amp;subset=latin,latin-ext" type="text/css">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Inconsolata" type="text/css">
    <link rel="stylesheet" href="/public/css/main.css" type="text/css" media="all">
    <link rel="icon" href="/public/images/favicon.ico">
  </head>
  <body>
    <div id="breadcrumbs-container">
      <ol id="breadcrumbs">
        <li class="crumb-0 not-last"><a href="/">home</a></li>
        <li class="crumb-1 not-last"><a href="/es6">es6</a></li>
        <li class="crumb-2 last"><a href="/es6/iterators">iterators</a></li>
      </ol>
    </div>
    <div id="content">
      <div id="content-body">
        <article><h1>Iterators</h1>
<p><em>Champion</em>: Dave Herman<br/>
<em>Details</em>: <a href="http://wiki.ecmascript.org/doku.php?id=harmony:iterators">ES Wiki</a>

</p>
<p>A object that represents a collection can provide an <code>[iterator]()</code> method so that other code can conveniently iterate over its contents.

</p>
<ul>
<li><p>An <em>iterable object</em> is any object that has an <code>[iterator]()</code> method that returns an iterator.  (<code>iterator</code> is a standard <a href="../private-names">private name</a>.)</p>
</li>
<li><p>An <em>iterator</em> is any object that has a <code>.next()</code> method. This method returns the next item, if any, and throws a <code>StopIteration</code> object if there are no more items.</p>
</li>
<li><p>The easiest way to produce an iterator is to write a <a href="../generators">generator</a>. The easiest way to consume an iterator is to write a <a href="../for-of">for-of loop</a>.</p>
</li>
</ul>
<p>The design of iterators and <a href="../generators">generators</a> in ES6 follows similar features in Python.


</p>
<h2>Examples</h2>
<p>The simplest way to make an object iterable is to give it an <code>[iterator]</code> method that is a generator.

</p>
<pre><code class="lang-javascript">    <span class="comment">// Make jQuery objects iterable</span>
    <span class="keyword">import</span> iterator <span class="keyword">from</span> <span class="string">"@iter"</span>;
    jQuery.prototype[iterator] = <span class="keyword">function</span>* iterator() {
        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.length; i++)
            yield $(<span class="keyword">this</span>.get(i));
    };

    <span class="comment">// Example code looping over a jQuery collection</span>
    <span class="keyword">var</span> t = <span class="number">500</span>;
    <span class="keyword">for</span> (<span class="keyword">var</span> p of $(<span class="string">"p"</span>)) {
        p.fadeOut(t);
        t += <span class="number">200</span>;
    }</code></pre>
<p>The standard <code>@iter</code> module provides a few convenience functions for iterating over object property names and values:

</p>
<pre><code class="lang-javascript">    <span class="keyword">import</span> keys, values, items <span class="keyword">from</span> <span class="string">"@iter"</span>;

    <span class="keyword">for</span> (<span class="keyword">var</span> k of keys(obj))
        alert(<span class="string">"property name: "</span> + k);

    <span class="keyword">for</span> (<span class="keyword">var</span> v of values(obj))
        alert(<span class="string">"property value: "</span> + v);

    <span class="keyword">for</span> (<span class="keyword">var</span> [k, v] of items(obj))
        alert(k + <span class="string">": "</span> + v);</code></pre>
<p>A few builtin functions can operate on any iterable object. For example, pass any iterable object to <code>Set()</code> and it will read all the values out of that iterable object and return a set of those values:

</p>
<p>```javascript
    var data = [1, 2, 1, 3, 1, 2, 1];
    var s = Set(data);  // A set with the three values 1, 2, 3
</p>
</article>
      </div>
    </div>
    <footer>
      <div id="footer-body">
        <p>Built by <a href="http://codexjs.com">Codex</a><span class="footsep">&ndash;</span><a href="https://github.com/dherman/tc39-codex-wiki/blob/master/data/es6/iterators/index.md">View Source</a><span class="footsep">&ndash;</span><a href="http://ecma-international.org/ecma-262/5.1/">ES5.1</a><span class="footsep">&ndash;</span><a href="http://people.mozilla.org/~jorendorff/es6-draft.html">ES6 Draft</a></p>
      </div>
    </footer>
  </body>
</html>